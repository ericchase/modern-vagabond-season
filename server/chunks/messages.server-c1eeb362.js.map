{"version":3,"file":"messages.server-c1eeb362.js","sources":["../../../.svelte-kit/adapter-node/chunks/messages.server.js"],"sourcesContent":["import { w as writable } from \"./index2.js\";\nimport { g as getIterator } from \"./clients.server.js\";\nimport { g as get_store_value } from \"./index.js\";\nconst messages = writable([]);\nfunction getMessages() {\n  return get_store_value(messages);\n}\nfunction addMessage(message) {\n  messages.update((list) => list.concat([`${new Date().toLocaleTimeString().toLowerCase()} ${message}`]));\n}\nmessages.subscribe((list) => {\n  if (list.length > 0) {\n    const latestMessage = list[list.length - 1];\n    for (const [, controller] of getIterator()) {\n      controller.enqueue(`data:${JSON.stringify(latestMessage)}\n\n`);\n    }\n  }\n});\nexport {\n  addMessage as a,\n  getMessages as g\n};\n"],"names":[],"mappings":";;;;AAGA,MAAM,QAAQ,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;AAC9B,SAAS,WAAW,GAAG;AACvB,EAAE,OAAO,eAAe,CAAC,QAAQ,CAAC,CAAC;AACnC,CAAC;AACD,SAAS,UAAU,CAAC,OAAO,EAAE;AAC7B,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,EAAE,CAAC,kBAAkB,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1G,CAAC;AACD,QAAQ,CAAC,SAAS,CAAC,CAAC,IAAI,KAAK;AAC7B,EAAE,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AACvB,IAAI,MAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AAChD,IAAI,KAAK,MAAM,GAAG,UAAU,CAAC,IAAI,WAAW,EAAE,EAAE;AAChD,MAAM,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;AAC/D;AACA,CAAC,CAAC,CAAC;AACH,KAAK;AACL,GAAG;AACH,CAAC,CAAC;;;;"}